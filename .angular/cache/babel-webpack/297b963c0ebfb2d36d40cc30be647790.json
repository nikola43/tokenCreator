{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/web3.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/material/card\";\nimport * as i4 from \"@angular/material/input\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../../two-digit-decima-number.directive\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/slider\";\nimport * as i9 from \"@angular/material/divider\";\nimport * as i10 from \"@angular/common\";\nimport * as i11 from \"@angular/material/progress-spinner\";\nconst _c0 = [\"removeLPTokenSlider\"];\n\nfunction RemoveLiquidityDialogComponent_mat_spinner_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\", 21);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"diameter\", 20);\n  }\n}\n\nfunction RemoveLiquidityDialogComponent_span_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Remove\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let RemoveLiquidityDialogComponent = /*#__PURE__*/(() => {\n  class RemoveLiquidityDialogComponent {\n    constructor(web3Service, dialogRef, data) {\n      this.web3Service = web3Service;\n      this.dialogRef = dialogRef;\n      this.data = data;\n      this.isLoading = false;\n      this.removeLPTokensForm = {\n        amount: 0\n      };\n      console.log(data);\n      this.tokenAddress = data.address;\n      this.pairAddress = data.pairAddress;\n      this.lpTokenBalance = data.lpTokenBalance;\n    }\n\n    onNoClick() {\n      this.dialogRef.close();\n    }\n\n    ngOnInit() {} // tslint:disable-next-line:typedef\n\n\n    percentage(percent, total) {\n      return percent / 100 * total;\n    }\n\n    mapValue(x, inMin, inMax, outMin, outMax) {\n      return (x - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;\n    } // tslint:disable-next-line:typedef\n\n\n    formatLabel(value) {\n      if (value >= 1000) {\n        return Math.round(value / 1000) + 'k';\n      }\n\n      return value + '%';\n    }\n\n    LPTokenInputKeyUp() {\n      const value = this.mapValue(Number(this.removeLPTokensForm.amount), 0, this.lpTokenBalance, 0, 100);\n      this.slider.value = value;\n    }\n\n    setLPTokenPercent(percent) {\n      this.removeLPTokensForm.amount = this.percentage(percent, this.lpTokenBalance);\n      const value = this.mapValue(Number(this.removeLPTokensForm.amount), 0, this.lpTokenBalance, 0, 100);\n      this.slider.value = value;\n    }\n\n    onSlide(event) {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.removeLPTokensForm.amount = this.percentage(Number(event.value), this.lpTokenBalance); // const estimate = await this.web3Service.getEstimatedTokensForBNB(this.tokenAddress);\n        // const ratio = estimate['0'] / estimate['1'];\n        //const addLiquidityTokenAmount = ratio * this.addLiquidityForm.bnbAmount;\n      });\n    } // tslint:disable-next-line:typedef\n\n\n    remove() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.isLoading = true;\n        yield this.web3Service.removeLPTokens(this.tokenAddress, this.pairAddress, this.removeLPTokensForm.amount).then(r => {\n          console.log(r);\n          this.isLoading = false;\n          this.dialogRef.close(true);\n        }).catch(err => {\n          console.log(err);\n          this.isLoading = false;\n        });\n        return true;\n      });\n    }\n\n  }\n\n  RemoveLiquidityDialogComponent.ɵfac = function RemoveLiquidityDialogComponent_Factory(t) {\n    return new (t || RemoveLiquidityDialogComponent)(i0.ɵɵdirectiveInject(i1.Web3Service), i0.ɵɵdirectiveInject(i2.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA));\n  };\n\n  RemoveLiquidityDialogComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RemoveLiquidityDialogComponent,\n    selectors: [[\"app-remove-liquidity-dialog\"]],\n    viewQuery: function RemoveLiquidityDialogComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.slider = _t.first);\n      }\n    },\n    decls: 38,\n    vars: 11,\n    consts: [[1, \"dialog-header\"], [1, \"header-title\"], [1, \"dialog-content\"], [2, \"height\", \"25px\"], [1, \"lock-liquidity-form-container\"], [1, \"input-label\"], [2, \"font-weight\", \"bold\", \"color\", \"white\"], [\"appTwoDigitDecimaNumber\", \"\", \"matInput\", \"\", \"maxlength\", \"16\", \"placeholder\", \"e.g. 1000\", 2, \"color\", \"white\", 3, \"disabled\", \"ngModel\", \"ngModelChange\", \"keyup\"], [\"color\", \"primary\", \"type\", \"button\", \"mat-raised-button\", \"\", 1, \"percentButton\", 3, \"disabled\", \"click\"], [2, \"width\", \"1rem\"], [\"color\", \"primary\", \"type\", \"button\", \"mat-raised-button\", \"\", 1, \"percentButton\", 3, \"click\"], [\"min\", \"0\", \"step\", \"1\", \"thumbLabel\", \"\", \"max\", \"100\", 3, \"disabled\", \"displayWith\", \"input\"], [\"removeLPTokenSlider\", \"\"], [2, \"height\", \"50px\"], [1, \"dialog-divider\"], [1, \"dialog-footer\"], [2, \"height\", \"15px\"], [\"color\", \"primary\", \"type\", \"button\", \"mat-raised-button\", \"\", 2, \"min-height\", \"36px\", \"min-width\", \"90px\", 3, \"disabled\", \"click\"], [3, \"diameter\", 4, \"ngIf\"], [4, \"ngIf\"], [\"mat-button\", \"\", 2, \"margin-left\", \"5rem\", \"color\", \"white\", 3, \"click\"], [3, \"diameter\"]],\n    template: function RemoveLiquidityDialogComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"h4\", 1);\n        i0.ɵɵtext(2, \"Remove LP Tokens\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2);\n        i0.ɵɵelement(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"mat-card\", 4);\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵelementStart(7, \"span\", 6);\n        i0.ɵɵtext(8, \"LP Tokens Balance\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"span\", 6);\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"br\");\n        i0.ɵɵelementStart(12, \"div\", 5);\n        i0.ɵɵelementStart(13, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function RemoveLiquidityDialogComponent_Template_input_ngModelChange_13_listener($event) {\n          return ctx.removeLPTokensForm.amount = $event;\n        })(\"keyup\", function RemoveLiquidityDialogComponent_Template_input_keyup_13_listener() {\n          return ctx.LPTokenInputKeyUp();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function RemoveLiquidityDialogComponent_Template_button_click_14_listener() {\n          return ctx.setLPTokenPercent(25);\n        });\n        i0.ɵɵtext(15, \" 25% \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"div\", 9);\n        i0.ɵɵelementStart(17, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function RemoveLiquidityDialogComponent_Template_button_click_17_listener() {\n          return ctx.setLPTokenPercent(50);\n        });\n        i0.ɵɵtext(18, \" 50% \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"div\", 9);\n        i0.ɵɵelementStart(20, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function RemoveLiquidityDialogComponent_Template_button_click_20_listener() {\n          return ctx.setLPTokenPercent(75);\n        });\n        i0.ɵɵtext(21, \" 75% \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(22, \"div\", 9);\n        i0.ɵɵelementStart(23, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function RemoveLiquidityDialogComponent_Template_button_click_23_listener() {\n          return ctx.setLPTokenPercent(100);\n        });\n        i0.ɵɵtext(24, \" 100% \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"br\");\n        i0.ɵɵelementStart(26, \"mat-slider\", 11, 12);\n        i0.ɵɵlistener(\"input\", function RemoveLiquidityDialogComponent_Template_mat_slider_input_26_listener($event) {\n          return ctx.onSlide($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"div\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(29, \"mat-divider\", 14);\n        i0.ɵɵelementStart(30, \"div\", 15);\n        i0.ɵɵelement(31, \"div\", 16);\n        i0.ɵɵelementStart(32, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function RemoveLiquidityDialogComponent_Template_button_click_32_listener() {\n          return ctx.remove();\n        });\n        i0.ɵɵtemplate(33, RemoveLiquidityDialogComponent_mat_spinner_33_Template, 1, 1, \"mat-spinner\", 18);\n        i0.ɵɵtemplate(34, RemoveLiquidityDialogComponent_span_34_Template, 2, 0, \"span\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"button\", 20);\n        i0.ɵɵlistener(\"click\", function RemoveLiquidityDialogComponent_Template_button_click_35_listener() {\n          return ctx.onNoClick();\n        });\n        i0.ɵɵtext(36, \"Cancel\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(37, \"div\", 16);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵtextInterpolate(ctx.lpTokenBalance);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading)(\"ngModel\", ctx.removeLPTokensForm.amount);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading)(\"displayWith\", ctx.formatLabel);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading || ctx.removeLPTokensForm.amount <= 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n      }\n    },\n    directives: [i3.MatCard, i4.MatInput, i5.DefaultValueAccessor, i6.TwoDigitDecimaNumberDirective, i5.MaxLengthValidator, i5.NgControlStatus, i5.NgModel, i7.MatButton, i8.MatSlider, i9.MatDivider, i10.NgIf, i11.MatSpinner],\n    styles: [\".dialog-header[_ngcontent-%COMP%]{text-align:center;width:100%;height:3rem;background-color:#f44}.header-title[_ngcontent-%COMP%]{font-size:1.5em;font-weight:500;color:#fff;position:relative;top:50%;transform:translateY(-50%);-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%)}.dialog-content[_ngcontent-%COMP%]{text-align:center;margin:auto;background-color:#2f2f2f!important;padding:2vh}.dialog-divider[_ngcontent-%COMP%]{width:90%!important}.dialog-footer[_ngcontent-%COMP%]{text-align:center;background-color:#2f2f2f!important}.mat-slider[_ngcontent-%COMP%]{width:80%}  .mat-slider-track-background{color:#fff;font-size:1.2rem}@keyframes scaleUpDown{0%,to{transform:scaleY(1) scaleX(1)}50%,90%{transform:scaleY(1.1)}75%{transform:scaleY(.95)}80%{transform:scaleX(.95)}}@keyframes shake{0%,to{transform:skew(0) scale(1)}50%{transform:skew(5deg) scale(.9)}}@keyframes particleUp{0%{opacity:0}20%{opacity:1}80%{opacity:1}to{opacity:0;top:-100%;transform:scale(.5)}}@keyframes glow{0%,to{background-color:#ef5a00}50%{background-color:#ff7800}}\"]\n  });\n  return RemoveLiquidityDialogComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}